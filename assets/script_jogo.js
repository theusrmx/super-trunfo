//#region cards

var carta1 = {
    nome: "Homem de Ferro",
    imagem: "\\assets\\imagens\\ironman.png",

    atributos: {
    tecnologia: 10,
    combate: 8,
    agilidade: 1,
    magia: 0,
    trunfo: 0
  }

};

var carta2 = {
    nome: "Hulk",
    imagem: "\\assets\\imagens\\hulk.png",

    atributos: {
    tecnologia: 5,
    combate: 10,
    agilidade: 0,
    magia: 0,
    trunfo: 0
  }

};

var carta3 = {
    nome: "Thor",
    imagem: "\\assets\\imagens\\thor.png",

    atributos: {
    tecnologia: 0,
    combate: 8,
    agilidade: 0,
    magia: 8,
    trunfo: 0
  }

};

var carta4 = {
    nome: "Capitão América",
    imagem: "\\assets\\imagens\\cap.png",

    atributos: {
    tecnologia: 5,
    combate: 10,
    agilidade: 8,
    magia: 0,
    trunfo: 0
  }

};

var carta5 = {
    nome: "Viúva Negra",
    imagem: "\\assets\\imagens\\viuva.png",

    atributos: {
    tecnologia: 7,
    combate: 10,
    agilidade: 10,
    magia: 0,
    trunfo: 0
  }

};

var carta6 = {
    nome: "Gavião Arqueiro",
    imagem: "\\assets\\imagens\\gaviao.jpg",

    atributos: {
    tecnologia: 9,
    combate: 8,
    agilidade: 7,
    magia: 0,
    trunfo: 0
  }

};

var carta7 = {
    nome: "Senhor das Estrelas",
    imagem: "\\assets\\imagens\\starlord.png",

    atributos: {
    tecnologia: 9,
    combate: 5,
    agilidade: 3,
    magia: 0,
    trunfo: 0
  }

};

var carta8 = {
    nome: "Gamora",
    imagem: "\\assets\\imagens\\gamora.png",

    atributos: {
    tecnologia: 7,
    combate: 9,
    agilidade: 5,
    magia: 0,
    trunfo: 0
  }

};

var carta9 = {
    nome: "Rocket & Groot",
    imagem: "\\assets\\imagens\\rocket.png",

    atributos: {
    tecnologia: 10,
    combate: 9,
    agilidade: 5,
    magia: 0,
    trunfo: 0
  }

};

var carta10 = {
    nome: "Drax",
    imagem: "\\assets\\imagens\\drax.png",

    atributos: {
    tecnologia: 1,
    combate: 8,
    agilidade: 0,
    magia: 0,
    trunfo: 0
  }

};

var carta10 = {
    nome: "Feiticeira Escalarte",
    imagem: "\\assets\\imagens\\wanda.png",

    atributos: {
    tecnologia: 0,
    combate: 8,
    agilidade: 2,
    magia: 10,
    trunfo: 0
  }

};

var carta11 = {
    nome: "Visão",
    imagem: "\\assets\\imagens\\visao.png",

    atributos: {
    tecnologia: 10,
    combate: 8,
    agilidade: 3,
    magia: 5,
    trunfo: 0
  }

};

var carta12 = {
    nome: "Homem-Formiga",
    imagem: "\\assets\\imagens\\antman.png",

    atributos: {
    tecnologia: 10,
    combate: 7,
    agilidade: 4,
    magia: 0,
    trunfo: 0
  }

};

var carta13 = {
    nome: "Vespa",
    imagem: "\\assets\\imagens\\wasp.png",

    atributos: {
    tecnologia: 10,
    combate: 8,
    agilidade: 5,
    magia: 0,
    trunfo: 0
  }

};

var carta14 = {
    nome: "Doutor Estranho",
    imagem: "\\assets\\imagens\\drestranho.png",

    atributos: {
    tecnologia: 0,
    combate: 8,
    agilidade: 4,
    magia: 10,
    trunfo: 0
  }

};

var carta14 = {
    nome: "Homem-Aranha",
    imagem: "\\assets\\imagens\\aranha.png",

    atributos: {
    tecnologia: 5,
    combate: 9,
    agilidade: 9,
    magia: 0,
    trunfo: 0
  }

};

var carta15 = {
    nome: "Pantera Negra",
    imagem: "\\assets\\imagens\\pantera.png",

    atributos: {
    tecnologia: 9,
    combate: 10,
    agilidade: 9,
    magia: 4,
    trunfo: 0
  }

};

var carta16 = {
    nome: "Capitã Marvel",
    imagem: "\\assets\\imagens\\capitamarvel.png",

    atributos: {
    tecnologia: 0,
    combate: 9,
    agilidade: 10,
    magia: 3,
    trunfo: 0
  }

};


var carta17 = {
    nome: "Capitão América (Sam Wilson)",
    imagem: "\\assets\\imagens\\capsam.png",

    atributos: {
    tecnologia: 6,
    combate: 9,
    agilidade: 8,
    magia: 0,
    trunfo: 0
  }

};

var carta18 = {
    nome: "Soldado Invernal",
    imagem: "\\assets\\imagens\\bucky.png",

    atributos: {
    tecnologia: 4,
    combate: 8,
    agilidade: 4,
    magia: 0,
    trunfo: 0
  }

};

var carta19 = {
    nome: "Loki",
    imagem: "\\assets\\imagens\\loki.png",

    atributos: {
    tecnologia: 0,
    combate: 4,
    agilidade: 2,
    magia: 8,
    trunfo: 0
  }

};

var carta19 = {
    nome: "Sylvie",
    imagem: "\\assets\\imagens\\sylvie.png",

    atributos: {
    tecnologia: 0,
    combate: 5,
    agilidade: 3,
    magia: 9,
    trunfo: 0
  }

};

var carta20 = {
    nome: "Yelena Belova",
    imagem: "\\assets\\imagens\\yelena.png",

    atributos: {
    tecnologia: 6,
    combate: 8,
    agilidade: 7,
    magia: 0,
    trunfo: 0
  }

};

var carta21 = {
    nome: "Kate Bishop",
    imagem: "\\assets\\imagens\\kate.png",
    atributos: {
    tecnologia: 5,
    combate: 5,
    agilidade: 6,
    magia: 0,
    trunfo: 0
  }

};

var carta22 = {
    nome: "Shang-Chi",
    imagem: "\\assets\\imagens\\shang.png",

    atributos: {
    tecnologia: 0,
    combate: 9,
    agilidade: 6,
    magia: 8,
    trunfo: 0
  }

};

var carta23 = {
    nome: "Sersi",
    imagem: "\\assets\\imagens\\sersi.png",

    atributos: {
    tecnologia: 9,
    combate: 1,
    agilidade: 1,
    magia: 5,
    trunfo: 0
  }

};

var carta23 = {
    nome: "Ikaris",
    imagem: "\\assets\\imagens\\ikaris.png",

    atributos: {
    tecnologia: 9,
    combate: 8,
    agilidade: 6,
    magia: 6,
    trunfo: 0
  }

};

var carta24 = {
    nome: "O Vigia",
    imagem: "\\assets\\imagens\\vigia.png",

    atributos: {
    tecnologia: 0,
    combate: 2,
    agilidade: 2,
    magia: 10,
    trunfo: 0
  }

};

var carta25 = {
    nome: "Valquíria",
    imagem: "\\assets\\imagens\\valk.png",

    atributos: {
    tecnologia: 0,
    combate: 9,
    agilidade: 5,
    magia: 4,
    trunfo: 0
  }

};

var carta26 = {
    nome: "Thanos",
    imagem: "\\assets\\imagens\\thanos.png",

    atributos: {
    tecnologia: 10,
    combate: 10,
    agilidade: 10,
    magia: 10,
    trunfo: 1
  }

};

//#endregion

/*functions*/

var cartas_jogo = [
    carta1, carta2, carta3, carta4, carta5, carta6, carta7, carta8,
    carta9, carta10, carta11, carta12, carta13, carta14, carta15, carta16,
    carta17, carta18, carta19, carta20, carta21, carta22, carta23, carta24,
    carta25, carta26
];

var cartas_jogador;

var cartas_maquina;


function embaralharCartas(arr) {
    // Loop em todos os elementos
    for (let i = arr.length - 1; i > 0; i--) {
        // Escolhendo elemento aleatório
        const j = Math.floor(Math.random() * (i + 1));
    // Reposicionando elemento
        [arr[i], arr[j]] = [arr[j], arr[i]];
}
// Retornando array com aleatoriedade
return arr;
}

function distribuirCartas(){

    embaralharCartas(cartas_jogo);
    //dividindo as cartas entre os dois jogadores
    cartas_jogador = cartas_jogo.slice(0,13);
    cartas_maquina = cartas_jogo.slice(13,26);

    
    console.log(cartas_jogador.length);
    console.log(cartas_maquina.length);

}

function montarCardPlayer(indice_player){
  var cardName = document.querySelector('.nome_jogador');

  var combate = document.getElementById('combate');
  var tech = document.getElementById('tech');
  var agilidade = document.getElementById('agilidade');
  var magia = document.getElementById('magia');
  
  
  var imagemCarta = cartas_jogador[indice_player].imagem;
  var imgElement = document.getElementById("imagem-jogador");
  imgElement.src = imagemCarta;

  cardName.innerHTML = cartas_jogador[indice_player].nome;
  combate.innerHTML = cartas_jogador[indice_player].atributos.combate;
  tech.innerHTML = cartas_jogador[indice_player].atributos.tecnologia;
  agilidade.innerHTML = cartas_jogador[indice_player].atributos.agilidade;
  magia.innerHTML = cartas_jogador[indice_player].atributos.magia;


}

function montarCardMaquina(indice_maquina){
  var cardName = document.querySelector('.nome_maquina');

  var combate = document.getElementById('combate_maquina');
  var tech = document.getElementById('tech_maquina');
  var agilidade = document.getElementById('agilidade_maquina');
  var magia = document.getElementById('magia_maquina');
  
  var imagemCarta = cartas_maquina[indice_maquina].imagem;
  var imgElement = document.getElementById("imagem-maquina");
  imgElement.src = imagemCarta;

  cardName.innerHTML = cartas_maquina[indice_maquina].nome;
  combate.innerHTML = cartas_maquina[indice_maquina].atributos.combate;
  tech.innerHTML = cartas_maquina[indice_maquina].atributos.tecnologia;
  agilidade.innerHTML = cartas_maquina[indice_maquina].atributos.agilidade;
  magia.innerHTML = cartas_maquina[indice_maquina].atributos.magia;

}


function iniciarJogo(){


  for(let i = 0; i < cartas_jogador.length; i++) {
    let atual_jogador = cartas_jogador[i];
    let venceu = false;

    montarCardPlayer(i);

    for(let j = 0; j < cartas_maquina.length; j++) {
      let atual_maquina = cartas_maquina[j];

      montarCardMaquina(j);
      
      if(atual_jogador.atributos.trunfo == 1){
        cartas_jogador.push(atual_maquina);
        cartas_maquina.splice(j, 1);
        venceu = true;
        console.log("Jogador tem trunfo!")
        break;
      } else if(atual_maquina.atributos.trunfo == 1){
        cartas_jogador.splice(i, 1);
        cartas_maquina.push(atual_jogador);
        venceu = false;
        console.log("Máquina tem o trunfo!");
        break;
      } else if(atual_jogador.atributos.agilidade > atual_maquina.atributos.agilidade){
        cartas_jogador.push(atual_maquina);
        cartas_maquina.splice(j, 1);
        venceu = true;
        break;
      } else if(atual_jogador.atributos.agilidade < atual_maquina.atributos.agilidade){
        cartas_jogador.splice(i, 1);
        cartas_maquina.push(atual_jogador);
        venceu = false;
        break;
      } else {
        console.log("Empate!");
      }
    }

    if (!venceu) {
      i--;
    }

    if (cartas_jogador.length === 0 || cartas_maquina.length === 0) {
      break;
    }
  }

  if (cartas_jogador.length === 0) {
    console.log("A máquina venceu!");
  } else {
    console.log("Você venceu!");
  }
}